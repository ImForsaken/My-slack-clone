<section (window:resize)="toggleSideNav()">
  <mat-sidenav-container>
    <!-- leftSide menu content -->
    <mat-sidenav #sidenav [mode]="modeValue" [(opened)]="isSidenavOpened">
      <mat-toolbar class="sidenav__header" color="primary">
        <div>Slack-Clone</div>
      </mat-toolbar>
      <!-- Channels -->
      <app-channels></app-channels>
      <hr />
      <!-- DirectMessages -->
      <app-direct-messages></app-direct-messages>
    </mat-sidenav>
    <!--rightSide main content -->
    <mat-sidenav-content>
      <mat-drawer-container class="message-container" autosize>
        <mat-drawer #threadDrawer mode="over" position="end">
          <!-- Thread -->
          <app-thread-content></app-thread-content>
        </mat-drawer>

        <mat-drawer-content>
          <!-- header -->
          <mat-toolbar>
            <button
              type="button"
              mat-button
              (click)="sidenav.toggle()"
              matTooltip="Sidemenu"
            >
              <mat-icon>menu_open</mat-icon>
            </button>
            <!-- Headline for Chats -->

            <!-- Show ChannelStatus -->
            <ng-container *ngIf="labelService.getActiveChannel()">
              <mat-icon
                *ngIf="
                  labelService.getActiveChannel()?.status === 'public';
                  else privateBlock
                "
                matTooltip="public"
                >tag</mat-icon
              >
              <ng-template #privateBlock>
                <mat-icon matTooltip="private">locked</mat-icon>
              </ng-template>
            </ng-container>

            <!-- Show UserImg & Status -->
            <ng-container *ngIf="labelService.getActiveUser()">
              <app-user-icon></app-user-icon>
            </ng-container>

            <!-- =================== -->
            <!-- Show Open Chat name -->
            <ng-container *ngIf="labelService.activeLabel; else elseBlock">
              <div>
                {{ labelService.getActiveNameOfChannelOfUser() }}
              </div>
            </ng-container>
            <ng-template #elseBlock>
              <div>Open Chat</div>
            </ng-template>
            <!-- =================== -->
          </mat-toolbar>
          <!-- chat display -->
          <router-outlet></router-outlet>
        </mat-drawer-content>
      </mat-drawer-container>
    </mat-sidenav-content>
  </mat-sidenav-container>
</section>
